논리적인 추론 강화하기📕 LLM & RAG를 활용한 AI 서비스 만들기/📘 LLM & RAG를 활용한 AI 서비스 만들기 - 3주차/📕논리적인 추론 강화하기Made with📕논리적인 추론 강화하기수업 목표LLM이 확률적 예측에 강하지만, 복잡한 논리적 문제에서는 약한 이유를 학습합니다.논리적 추론을 강화하기 위한 CoT 기법을 익히고, 이를 활용해 LLM의 성능을 향상시키는 방법을 배웁니다.논리적 문제 해결에 CoT 기법을 적용하고, 단계별 추론 과정을 통해 모델의 논리적 흐름을 개선합니다.목차이번에 배울것논리적 추론의 한계CoT(Chain of Thought, 생각의 사슬) 기법CoT 적용 예시직접 중간 과정 넣어주기CoT의 다양한 적용정리이번에 배울것❗LLM은 언어 모델이기 때문에 논리적인 추론보다는 확률적인 예측에 더 강합니다.문장을 보고 확률적으로 다음에 나올 단어를 예측하는 방식이므로, 복잡한 논리나 수학적 추론에 약한 경우가 많죠.이번 장에서는 이러한 논리적 추론을 강화하는 방법, 특히 CoT(Chain of Thought, 생각의 사슬) 기법을 배워보겠습니다.논리적 추론의 한계💡기본적으로 LLM은 문맥을 기반으로 확률적인 답변을 제공합니다. 그렇기 때문에 수학 문제나 논리적 퍼즐 같은 문제에서 잘못된 답변이 나올 때가 많습니다.✔️ 예시: 논리적 문제 해결 실패Plain TextCopyUser: 자동차가 3대 있어, 오토바이는 12대 있어. 이중 바퀴가 모두 터진 장비는 총 3대야. 그런데 터진 바퀴가 총 12개면 자동차와 오토바이는 각각 몇 대 고장났을까?
Assistant: 자동차 2대와 오토바이 1대가 고장났습니다.


​👉 결과: 잘못된 추론을 하고 있죠? 정답은 자동차 3대인데, Assistant는 제대로 풀지 못했어요.CoT(Chain of Thought, 생각의 사슬) 기법📚CoT(Chain of Thought)이 문제를 해결하기 위한 방법으로 CoT(Chain of Thought) 기법을 사용할 수 있습니다.CoT는 단계별로 추론 과정을 설명하도록 모델에게 유도하는 기법입니다.중간 추론 단계를 명시하면, 모델이 복잡한 문제를 더 정확히 풀 수 있게 됩니다.📚CoT 기법이 성능을 높이는 이유모델은 다음에 나올 단어의 확률을 예측하며 답변을 생성하는데, 중간 추론 단계를 명시하면 답변의 구조가 더 논리적으로 짜여지게 됩니다.즉, 자신이 무엇을 하고 있는지 설명하는 과정에서 논리적인 흐름을 따라가게 되는 것이죠!CoT 적용 예시💡이제 CoT 기법을 적용해 중간 추론 단계를 설명해볼까요?
먼저, 자동화된 CoT 기법을 사용해보겠습니다. 자동화된 CoT는 모델에게 중간 과정을 설명해라고 명시하는 방식입니다.✔️ CoT 기법 적용Plain TextCopySystem: 너는 문제를 풀 때 중간 과정을 설명해야 해.
User: 자동차가 3대 있어, 오토바이는 12대 있어. 이중 바퀴가 모두 터진 장비는 총 3대야. 그런데 터진 바퀴가 총 12개면 자동차와 오토바이는 각각 몇 대 고장났을까?
Assistant: 문제를 해결하기 위해서는 각 장비의 바퀴 수와 터진 바퀴의 총 수를 고려해야 해.
자동차는 4개의 바퀴가 있고, 오토바이는 2개의 바퀴가 있어.
이 문제에서는 총 3대의 장비가 바퀴가 모두 터져 있고, 터진 바퀴는 12개야.

먼저, 자동차가 x대, 오토바이가 y대가 고장났다고 가정하자.
두 가지 조건을 만족해야 해:
1. x + y = 3 (고장난 장비는 총 3대)
2. 4x + 2y = 12 (총 터진 바퀴 수는 12개)

첫 번째 식에서 y = 3 - x라고 할 수 있어.
이 값을 두 번째 식에 대입하면:
4x + 2(3 - x) = 12
4x + 6 - 2x = 12
2x = 6
x = 3

따라서 자동차 3대가 모두 고장났고, 오토바이는 고장나지 않았어.


​👉 결과: CoT 기법을 사용하니 중간 과정을 설명하면서 정확한 답변을 얻을 수 있었어요!이제 문제를 단계별로 풀어가는 모습이 보이죠? 😄직접 중간 과정 넣어주기💡이번에는 중간 추론 단계를 직접 넣어주는 방식을 사용해보겠습니다. 이렇게 하면 더 세밀하게 논리적 과정을 유도할 수 있습니다.✔️ 직접 CoT 적용 예시Plain TextCopySystem: 너는 문제를 풀 때 중간 과정을 설명해. 중간 단계는 문제 분석, 계산, 검증의 과정을 거쳐야 해.
User: 자동차가 3대 있어, 오토바이는 12대 있어. 이중 바퀴가 모두 터진 장비는 총 3대야. 그런데 터진 바퀴가 총 12개면 자동차와 오토바이는 각각 몇 대 고장났을까?
Assistant: 이 문제의 해결을 위해 다음과 같은 수식을 설정할 수 있어요.

1. 자동차가 고장난 대수를 x, 오토바이가 고장난 대수를 y라고 합시다.
2. 첫 번째 조건: x + y = 3 (총 고장난 장비는 3대입니다).
3. 두 번째 조건: 터진 바퀴는 12개입니다. 자동차는 바퀴 4개, 오토바이는 바퀴 2개이므로, 4x + 2y = 12가 됩니다.

첫 번째 방정식에서 y = 3 - x로 바꿔서, 이를 두 번째 방정식에 대입하면:
4x + 2(3 - x) = 12
4x + 6 - 2x = 12
2x = 6
x = 3

따라서, 자동차는 3대 모두 고장났고, 오토바이는 고장나지 않았습니다.


​👉 결과: 중간 과정을 직접 넣어주니 논리적인 답변을 훨씬 더 세밀하게 유도할 수 있죠.CoT의 다양한 적용💡CoT 기법은 수학 문제뿐만 아니라, 복잡한 명령어 처리나 삼행시 같은 작업에서도 효과적으로 사용할 수 있습니다.✔️ 예시: 복잡한 명령어 처리Plain TextCopySystem: 너는 삼행시를 만들 때, 각 줄의 의미를 단계별로 설명해야 해.
User: 나주평야로 삼행시 지어줘.
Assistant:
나: '나'는 나주평야의 '나'를 따서 시작합니다. 나주평야는 넓고 비옥한 땅을 의미하죠.
주: '주'는 주말에 나주평야를 방문한다는 뜻입니다. 자연과 함께하는 주말을 상상해볼 수 있겠네요.
평야: 평야는 넓은 들판을 상징하며, 나주평야의 풍요로움을 강조합니다. 넓고 끝없는 평화로운 공간을 말하는 것이죠.


​✔️ 예시: 복잡한 수학 문제Plain TextCopySystem: 너는 수학 문제를 풀 때, 중간 과정을 하나하나 설명해야 해.
User: 피보나치 수열의 10번째 값을 계산해줘.
Assistant: 피보나치 수열은 각 숫자가 앞의 두 숫자의 합으로 이루어집니다.
첫 번째 수는 0, 두 번째 수는 1입니다. 이제 10번째 수를 계산해보죠.
1. 첫 번째 수: 0
2. 두 번째 수: 1
3. 세 번째 수: 0 + 1 = 1
4. 네 번째 수: 1 + 1 = 2
5. 다섯 번째 수: 1 + 2 = 3
6. 여섯 번째 수: 2 + 3 = 5
7. 일곱 번째 수: 3 + 5 = 8
8. 여덟 번째 수: 5 + 8 = 13
9. 아홉 번째 수: 8 + 13 = 21
10. 열 번째 수: 13 + 21 = 34

따라서 피보나치 수열의 10번째 수는 34입니다.


​정리오늘 배운 CoT(생각의 사슬) 기법을 통해 논리적인 추론을 단계별로 설명하도록 유도하는 방법을 익혔습니다.자동화된 CoT: "중간 과정을 설명해"라는 간단한 지침으로, 복잡한 문제 해결을 유도할 수 있습니다.직접 중간 과정 추가: 중간 과정을 직접 넣어주면, 더 구체적이고 세밀한 논리적 추론을 유도할 수 있습니다.앞으로 더 복잡한 문제도 CoT 기법을 활용하면 쉽게 해결할 수 있을 거예요! 😊복잡한 문제일수록 생각의 사슬을 활용해 해결해보세요! 🚀